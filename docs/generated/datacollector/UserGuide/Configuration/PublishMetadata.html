
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Working with Data Governance Tools" /><meta name="abstract" content="You can configure Data Collector to integrate with data governance tools, giving you visibility into data movement - where the data came from, where it’s going to, and who is interacting with it." /><meta name="description" content="You can configure Data Collector to integrate with data governance tools, giving you visibility into data movement - where the data came from, where it’s going to, and who is interacting with it." /><meta name="DC.Relation" scheme="URI" content="../../../datacollector/UserGuide/Configuration/Config_title.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_rg3_nxy_4cb" /><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/commonltr.css?buildId=@@WEBHELP_BUILD_NUMBER@@"><!----></link><title>Working with Data Governance Tools</title><!--  Generated with Oxygen version @@WEBHELP_VERSION@@, build number @@WEBHELP_BUILD_NUMBER@@.  --><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/css/webhelp_topic.css?buildId=@@WEBHELP_BUILD_NUMBER@@"><!----></link><link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/resources/skins/skin.css?buildId=@@WEBHELP_BUILD_NUMBER@@" /><script type="text/javascript"><!--
          
          var prefix = "../../../index.html";
          
          --></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery-3.1.1.min.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/log.js?buildId=@@WEBHELP_BUILD_NUMBER@@"><!----></script><script type="text/javascript" charset="utf-8" src="../../../oxygen-webhelp/resources/js/webhelp_topic.js?buildId=@@WEBHELP_BUILD_NUMBER@@"><!----></script>
  <!--
  Copyright 2018 StreamSets Inc.
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
  <script type="text/javascript">
    <!--
    var parentWindow = window.name;
    console.log("1. " + parentWindow);
    if (!(parentWindow == "frm" || parentWindow == "contentwin")) {
        var currHash = window.location.hash.substr(1);
        console.log("2. " + currHash);
        console.log("3. " + currHash.indexOf("datacollector/UserGuide/"));

        if ( currHash.indexOf("datacollector/UserGuide/") == -1 ) {
            window.location.hash = "#datacollector/UserGuide/" + currHash;
        }
    }
-->
  </script>
</head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../../../datacollector/UserGuide/Configuration/Config_title.html" title="Configuration">Configuration</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../../../datacollector/UserGuide/Configuration/Config_title.html" title="Configuration"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Configuration</span></a></span>  </span></td></tr></tbody></table>
<div class="nested0" id="concept_rg3_nxy_4cb">
    <h1 class="title topictitle1">Working with Data Governance Tools</h1>

    
    <div class="body conbody"><p class="shortdesc">You can configure <span class="ph">Data Collector</span> to
        integrate with data governance tools, giving you visibility into data movement - where the
        data came from, where it’s going to, and who is interacting with it.</p>

        <p class="p">Data governance tool integration is available with a paid subscription.
                  For details, <a class="xref" href="https://streamsets.com/contact-us/" target="_blank">contact us</a>. </p>

        <div class="p"><span class="ph">Data Collector</span> can
            work with the following data governance tools:<dl class="dl">
                
                    <dt class="dt dlterm">Cloudera Navigator</dt>

                    <dd class="dd">If you use Cloudera Manager and have Cloudera Navigator installed, you can
                        configure <span class="ph">Data Collector</span> to publish metadata about running pipelines to Cloudera Navigator. When
                        publishing metadata, <span class="ph">Data Collector</span> makes an HTTPS request to Cloudera Navigator using basic authentication.
                        The data is sent in JSON format. <div class="note important"><span class="importanttitle">Important:</span> Publishing metadata
                            to Cloudera Navigator is supported only on Cloudera Manager version 5.10
                            or 5.11.</div>
</dd>

                
                
                    <dt class="dt dlterm">Apache Atlas</dt>

                    <dd class="dd">If you have Apache Atlas installed, you can configure Data Collector to
                        publish metadata about running pipelines to Apache Atlas. When publishing
                        metadata, <span class="ph">Data Collector</span> uses Apache Kafka to send the metadata to Apache Atlas. The data is sent
                        in JSON format. </dd>

                
            </dl>
</div>

        <p class="p">You then use Cloudera Navigator or Apache Atlas to explore the pipeline metadata,
            including viewing lineage diagrams of the metadata.</p>

        <p class="p"><span class="ph">Data Collector</span> uses
            separate threads to publish metadata to data governance tools - so enabling metadata
            publishing has minimal effect on the running pipeline threads. Every pipeline publishes
            metadata when the pipeline starts and when it stops. Some origins and destinations
            publish metadata only once, typically when they initialize. However, some stages publish
            metadata each time they create a new object - for example, when the Hadoop FS or Local
            FS destination creates a new output file. </p>

    </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_h4w_qld_v1b">
 <h2 class="title topictitle2">Supported Stages</h2>

    
 <div class="body conbody"><p class="shortdesc">At this time, only some pipeline stages support publishing metadata to data
        governance tools.</p>

        <p class="p"><span class="ph">Data Collector</span>
            publishes metadata for all supported stages in all running pipelines. If you have
            multiple <span class="ph">Data Collector</span>s
            that run pipelines, configure each <span class="ph">Data Collector</span> to
            publish metadata to the same governance tool instance.</p>

        <div class="p"><span class="ph">Data Collector</span> can
            publish metadata for the following stages:<ul class="ul" id="concept_h4w_qld_v1b__ul_sj5_tld_v1b">
                <li class="li">Dev Data Generator origin</li>

                <li class="li">Directory origin</li>

                <li class="li">Hadoop FS origin</li>

                <li class="li">JDBC Query Consumer origin</li>

                <li class="li">Kafka Consumer origin</li>

                <li class="li">Hadoop FS destination</li>

                <li class="li">Local FS destination</li>

                <li class="li">HBase destination</li>

                <li class="li">Hive Streaming destination</li>

                <li class="li">Kudu destination</li>

            </ul>
</div>

        <div class="note note"><span class="notetitle">Note:</span> Remember that you don't enable metadata publishing at the stage level or even at the
            pipeline level. You simply configure <span class="ph">Data Collector</span> to
            publish metadata for all running pipelines. </div>

        <p class="p">When a pipeline includes an unsupported stage, the data governance tool does not display
            that stage as an input or output in the lineage diagram. For example, if a running
            pipeline includes an unsupported origin and the Hadoop FS destination, then the data
            governance tool displays the pipeline as having 0 inputs and multiple outputs - one
            output for each generated output file. If a running pipeline includes no supported
            origins or destinations, the data governance tool displays the pipeline as having 0
            inputs and 0 outputs. </p>

    </div>

</div>
<div class="topic concept nested1" id="concept_q4y_4mt_p1b">
    <h2 class="title topictitle2">Cloudera Navigator</h2>

    
    <div class="body conbody"><p class="shortdesc">You can configure <span class="ph">Data Collector</span> to
        publish metadata about running pipelines to Cloudera Navigator. You then use Cloudera
        Navigator to explore the pipeline metadata, including viewing lineage diagrams of the
        metadata. </p>

        <p class="p">Data governance tool integration is available with a paid subscription.
                  For details, <a class="xref" href="https://streamsets.com/contact-us/" target="_blank">contact us</a>. </p>

        <p class="p">To integrate <span class="ph">Data Collector</span>
            with Cloudera Navigator, you download and install the Cloudera Navigator stage library
            as a custom stage library. You then configure <span class="ph">Data Collector</span> to
            connect to Cloudera Navigator.</p>

    </div>

<div class="topic concept nested2" id="concept_iz5_ptt_p1b">
 <h3 class="title topictitle3">Prerequisites</h3>

 <div class="body conbody">
        <p class="p">Before you
            enable <span class="ph">Data Collector</span> to
            publish pipeline metadata to Cloudera Navigator, you must complete the following
            prerequisites:</p>

        <dl class="dl">
            
                <dt class="dt dlterm">Verify that <span class="ph">Data Collector</span> has the Cloudera CDH stage library version 5.10 or 5.11 installed. </dt>

                <dd class="dd"><span class="ph">Data Collector</span> requires the Cloudera CDH stage library version 5.10 or 5.11 to connect to
                    and publish metadata to Cloudera Navigator. </dd>

                <dd class="dd">To verify that a <span class="ph">Data Collector</span> has a valid Cloudera CDH stage library installed, click the Package Manager
                    icon (<img class="image" id="concept_iz5_ptt_p1b__image_hgv_t1q_rx" src="../Graphics/icon_PackageManager.png" height="13" width="16" />) to display the list of installed stage libraries.
                    If the required library version is not installed, <a class="xref" href="../Installation/AddtionalStageLibs.html#concept_fb2_qmn_bz">install
                        the library</a> before configuring <span class="ph">Data Collector</span> to publish pipeline metadata to Cloudera Navigator.</dd>

            
            
                <dt class="dt dlterm">Add the Cloudera Navigator data management roles to your Cloudera Manager
                    cluster. </dt>

                <dd class="dd">Add the following Navigator roles to the Cloudera Management Service:<ul class="ul" id="concept_iz5_ptt_p1b__ul_jml_dwt_p1b">
                        <li class="li">Cloudera Navigator Audit Server role</li>

                        <li class="li">Cloudera Navigator Metadata Server role</li>

                    </ul>
</dd>

                <dd class="dd">For instructions, see the Cloudera Manager documentation. </dd>

            
        </dl>

    </div>

</div>
<div class="topic task nested2" id="task_kxd_jfz_4cb">
    <h3 class="title topictitle3">Step 1. Download and Install the Stage Library</h3>

    
    <div class="body taskbody"><p class="shortdesc"> Download and install the Cloudera Navigator stage library as a custom stage library.  </p>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Using the link provided in the email that you received from StreamSets,
                    download the tarball containing the Cloudera Navigator stage library for your
                    version of Cloudera Manager.</span>
                <div class="itemgroup info">For example, if <span class="ph">Data Collector</span> has the Cloudera CDH stage library version 5.11 installed, download the
                        <samp class="ph codeph">streamsets-datacollector-cm_5_11-lib-1.0-SNAPSHOT.tgz</samp>
                    file.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Extract the tarball.</span>
                <div class="itemgroup info">The tarball is extracted into the following
                        directory:<pre class="pre codeblock">&lt;stage library name&gt;/lib/</pre>
<div class="p">For example:<pre class="pre codeblock">streamsets-datacollector-cm_5_11-lib/lib/</pre>
</div>
</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Install and manage the Cloudera Navigator stage library as you would a custom
                    stage library. For more information, see <a class="xref" href="CustomStageLibraries.html#concept_pmc_jk1_1x">Custom Stage
                        Libraries</a>.</span>
                <div class="itemgroup info">
                    <div class="note note"><span class="notetitle">Note:</span> When you copy the extracted Cloudera Navigator stage library, copy the
                        library to the custom stage library directory as
                            follows:<pre class="pre codeblock">/opt/sdc-user-libs/&lt;stage library name&gt;/lib/</pre>
<div class="p">For
                            example:<pre class="pre codeblock">/opt/sdc-user-libs/streamsets-datacollector-cm_5_11-lib/lib/</pre>
</div>
</div>

                </div>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested2" id="task_e12_xyt_p1b">
    <h3 class="title topictitle3">Step 2. Configure the Connection to Cloudera Navigator</h3>

    
    <div class="body taskbody"><p class="shortdesc">Add lineage publisher properties to the <span class="ph">Data Collector</span>
        configuration file, <samp class="ph systemoutput">$SDC_CONF/sdc.properties</samp>, and then
        configure the properties as needed. When administering <span class="ph">Data Collector</span> with
        Cloudera Manager, configure the <span class="ph">Data Collector</span>
        configuration properties through the StreamSets service in Cloudera Manager. Manual changes
        to the configuration file can be overwritten by Cloudera Manager.</p>

        <div class="section context">
            <div class="p">Configuring the properties includes enabling metadata publishing and defining the
                connection to Cloudera Navigator.<div class="note warning"><span class="warningtitle">Warning:</span> If metadata publishing is
                    enabled and <span class="ph">Data Collector</span> cannot connect to Cloudera Navigator at start up, then <span class="ph">Data Collector</span> fails to start.</div>
</div>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">To enable metadata publishing, add the following lines to the
                        <samp class="ph codeph">sdc.properties</samp> file:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock"># Lineage Publisher
#
lineage.publishers=navigator
lineage.publisher.navigator.def=streamsets-datacollector-cm_5_11-lib::com_streamsets_pipeline_stage_plugin_navigator_NavigatorLineagePublisher
lineage.publisher.navigator.config.application_url=http://localhost:18630
lineage.publisher.navigator.config.navigator_url=http://navigatorhost:7187
lineage.publisher.navigator.config.namespace=sdc
lineage.publisher.navigator.config.username=user
lineage.publisher.navigator.config.password=passwd
lineage.publisher.navigator.config.autocommit=false</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To define the connection to Cloudera Navigator, modify the default values of
                    the following properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_e12_xyt_p1b__table_uhx_g25_p1b" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr>
                                    <th class="entry" valign="top" id="d56718e425">Metadata Publisher Property</th>

                                    <th class="entry" valign="top" id="d56718e428">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr>
                                    <td class="entry" valign="top" headers="d56718e425 ">lineage.publishers</td>

                                    <td class="entry" valign="top" headers="d56718e428 ">Application to publish metadata to. Do not change the
                                        default value of <samp class="ph codeph">navigator</samp>.</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" headers="d56718e425 ">lineage.publisher.navigator.def</td>

                                    <td class="entry" valign="top" headers="d56718e428 ">Stage library name used to connect to Cloudera Navigator,
                                        entered in the following format: <p class="p"><samp class="ph codeph">&lt;stage
                                                library name&gt;::com_streamsets_pipeline_
                                                stage_plugin_navigator_NavigatorLineagePublisher</samp></p>
<p class="p">Define
                                            the appropriate Cloudera CDH stage library version to
                                            enable metadata publishing. <span class="ph">Data Collector</span> can use the Cloudera CDH stage library version 5.10
                                            or higher to connect to Cloudera Navigator. Do not
                                            modify the second half of the property
                                        value.</p>
</td>

                                </tr>

                                <tr id="task_e12_xyt_p1b__row_navAppURL">
                                    <td class="entry" valign="top" headers="d56718e425 ">lineage.publisher.navigator.<p class="p">config.application_url</p>
</td>

                                    <td class="entry" valign="top" headers="d56718e428 ">URL to <span class="ph">Data Collector</span>. For
                                                example:<p class="p"><samp class="ph codeph">http://&lt;hostname&gt;:18630/</samp></p>
</td>

                                </tr>

                                <tr id="task_e12_xyt_p1b__row_navURL">
                                    <td class="entry" valign="top" headers="d56718e425 ">lineage.publisher.navigator.<p class="p">config.navigator_url</p>
</td>

                                    <td class="entry" valign="top" headers="d56718e428 ">URL to the Cloudera Navigator UI. For
                                                example:<p class="p"><samp class="ph codeph">http://&lt;Navigator Metadata
                                                Server host&gt;:&lt;port number&gt;/</samp></p>
<p class="p">
                                            <samp class="ph codeph">&lt;Navigator Metadata Server host&gt;</samp> is
                                            the name of the host on which you are running the
                                            Navigator Metadata Server role. <samp class="ph codeph">&lt;port
                                                number&gt;</samp> is the port configured for the
                                            role. </p>
</td>

                                </tr>

                                <tr id="task_e12_xyt_p1b__row_NavNamespace">
                                    <td class="entry" valign="top" headers="d56718e425 ">lineage.publisher.navigator.<p class="p">config.namespace</p>
</td>

                                    <td class="entry" valign="top" headers="d56718e428 ">Namespace that Cloudera Navigator uses to uniquely
                                        identify <span class="ph">Data Collector</span> properties.</td>

                                </tr>

                                <tr id="task_e12_xyt_p1b__row_NavUserName">
                                    <td class="entry" valign="top" headers="d56718e425 ">lineage.publisher.navigator.<p class="p">config.username</p>
</td>

                                    <td class="entry" valign="top" headers="d56718e428 ">User name to connect to Cloudera Navigator. </td>

                                </tr>

                                <tr id="task_e12_xyt_p1b__row_NavPassword">
                                    <td class="entry" valign="top" headers="d56718e425 ">lineage.publisher.navigator.<p class="p">config.password</p>
</td>

                                    <td class="entry" valign="top" headers="d56718e428 ">Password for the Cloudera Navigator account.<div class="p">Enter one
                                            of the following:<ul class="ul" id="task_e12_xyt_p1b__ul_zlz_zlk_fbb">
                                                <li class="li">Password value.</li>

                                                <li class="li">File that contains the password value. For
                                                  increased security, store the password in a
                                                  separate file located in the
                                                  <samp class="ph systemoutput">$SDC_CONF</samp> directory
                                                  and reference the file in this property as
                                                  follows: ${file("&lt;filename&gt;")}. For
                                                  example:<p class="p"><samp class="ph codeph">lineage.publisher.navigator.config.password=
                                                  ${file("NavigatorPassword.txt")}</samp></p>
<p class="p">For
                                                  more information, see <a class="xref" href="DCConfig.html#concept_aqc_dbt_zr" title="For increased security you can store sensitive information, such as a password, in separate files and reference the files in the Data Collector configuration file, $SDC_CONF/sdc.properties, as follows: ${file(&#34;&lt;filename&gt;&#34;)}.">Referencing Sensitive Values in Files</a>.</p>
</li>

                                            </ul>
</div>
</td>

                                </tr>

                                <tr id="task_e12_xyt_p1b__row_NavAutoCommit">
                                    <td class="entry" valign="top" headers="d56718e425 ">lineage.publisher.navigator.<p class="p">config.autocommit</p>
</td>

                                    <td class="entry" valign="top" headers="d56718e428 ">Enables Cloudera Navigator to immediately process the
                                        published metadata.<p class="p">In most cases, use the default value
                                            of false. Setting to true can use a large number of
                                            resources on the Cloudera Navigator machine.
                                        </p>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Restart <span class="ph">Data Collector</span> for the changed properties to take effect.</span>
            </li>
</ol>

    </div>

</div>
<div class="topic concept nested2" id="concept_pvq_cs3_v1b">
 <h3 class="title topictitle3">Viewing Published Metadata</h3>

 
 <div class="body conbody"><p class="shortdesc">You can view published pipeline metadata in near real time in Cloudera Navigator.
        Cloudera Navigator lists each pipeline by pipeline title and displays supported origins as
        inputs and supported destinations as outputs. Cloudera Navigator also includes a URL to the
        pipeline within <span class="ph">Data Collector</span>.</p>

        <p class="p">For example, let's assume that you run a pipeline that
            includes a JDBC Query Consumer origin and a Local FS destination. Cloudera Navigator
            displays a single input representing the JDBC Query Consumer origin. As the pipeline
            runs, the Local FS destination creates multiple output files. Cloudera Navigator
            displays multiple outputs, each output representing one of the generated output files. </p>

        <p class="p">Cloudera Navigator displays the details of the published pipeline metadata as follows.
            Note how our example Jdbc2LocalFS pipeline is listed with 1 input and 42 outputs - one
            output for each generated output file:</p>

        <p class="p"><img class="image" id="concept_pvq_cs3_v1b__image_axz_tt3_v1b" src="../Graphics/Navigator_Details.png" height="452" width="857" /></p>

        <p class="p">Cloudera Navigator displays the pipeline lineage diagram as follows:</p>

        <p class="p"><img class="image" id="concept_pvq_cs3_v1b__image_ofk_j53_v1b" src="../Graphics/Navigator_Lineage.png" height="434" width="578" /></p>

    </div>

</div>
</div>
<div class="topic concept nested1" id="concept_hn4_s1t_pcb">
    <h2 class="title topictitle2">Apache Atlas</h2>

    
    <div class="body conbody"><p class="shortdesc">You can configure <span class="ph">Data Collector</span> to
        publish metadata about running pipelines to Apache Atlas. You then use Apache Atlas to
        explore the pipeline metadata, including viewing lineage diagrams of the metadata. </p>

        <p class="p">Data governance tool integration is available with a paid subscription.
                  For details, <a class="xref" href="https://streamsets.com/contact-us/" target="_blank">contact us</a>. </p>

        <p class="p">To integrate <span class="ph">Data Collector</span>
            with Apache Atlas, you download and install the Apache Atlas stage library as a custom
            stage library. You then configure <span class="ph">Data Collector</span> to
            connect to Apache Atlas. You also must deploy the StreamSets data model to the machine
            where the Apache Atlas server is installed. </p>

    </div>

<div class="topic concept nested2" id="concept_m53_fct_pcb">
    <h3 class="title topictitle3">Prerequisites</h3>

    <div class="body conbody">
        <div class="p">Before you enable
                <span class="ph">Data Collector</span>
            to publish pipeline metadata to Apache Atlas, you must complete the following
            prerequisites in Apache Atlas:<ul class="ul" id="concept_m53_fct_pcb__ul_jpf_c5t_zcb">
                <li class="li">Configure Apache Atlas to use HBase as a persistence engine.</li>

                <li class="li">Configure Apache Atlas to use Apache Kafka for notifications.</li>

                <li class="li">Ensure that the graphing engine is enabled for Apache Atlas.</li>

            </ul>
</div>

        <p class="p">For more information on configuring Apache Atlas, see the <a class="xref" href="http://atlas.apache.org/Configuration.html" target="_blank">Apache Atlas documentation</a>.</p>

    </div>

</div>
<div class="topic task nested2" id="task_v5g_mct_pcb">
    <h3 class="title topictitle3">Step 1. Download and Install the Stage Library</h3>

    
    <div class="body taskbody"><p class="shortdesc">Download and install the Apache Atlas stage library as a custom stage library. </p>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Using the link provided in the email that you received from StreamSets,
                    download the tarball containing the Apache Atlas stage library.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Extract the tarball.</span>
                <div class="itemgroup info">The tarball is extracted into the following
                        directory:<pre class="pre codeblock">&lt;stage library name&gt;/lib/</pre>
<div class="p">For
                        example:<pre class="pre codeblock">streamsets-datacollector-apache-atlas_0_8_1-lib/lib/</pre>
</div>
</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Install and manage the Apache Atlas stage library as you would a custom stage
                    library. For more information, see <a class="xref" href="CustomStageLibraries.html#concept_pmc_jk1_1x">Custom Stage
                        Libraries</a>.</span>
                <div class="itemgroup info">
                    <div class="note note"><span class="notetitle">Note:</span> When you copy the extracted Apache Atlas stage library, copy the library
                        to the custom stage library directory as
                            follows:<pre class="pre codeblock">/opt/sdc-user-libs/&lt;stage library name&gt;/lib/</pre>
<div class="p">For
                            example:<pre class="pre codeblock">/opt/sdc-user-libs/streamsets-datacollector-apache-atlas_0_8_1-lib/lib/</pre>
</div>
</div>

                </div>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested2" id="task_zh4_tdt_pcb">
    <h3 class="title topictitle3">Step 2. Configure the Connection to Apache Atlas</h3>

    <div class="body taskbody">
        <div class="section context">
            <div class="p">Configuring <span class="ph">Data Collector</span>
                to connect to Apache Atlas involves working with the following files:<dl class="dl">
                    
                        <dt class="dt dlterm"><span class="ph">Data Collector</span> configuration file</dt>

                        <dd class="dd">Add lineage publisher properties to the <span class="ph">Data Collector</span> configuration file,
                                <samp class="ph systemoutput">$SDC_CONF/sdc.properties</samp>.</dd>

                    
                    
                        <dt class="dt dlterm">Apache Atlas application properties file</dt>

                        <dd class="dd">If <span class="ph">Data Collector</span> is installed on a separate machine from the Apache Atlas server, copy
                            the <samp class="ph codeph">atlas-application.properties</samp> file to the <span class="ph">Data Collector</span> machine. Modify the Apache Atlas application properties file as
                            needed, and then specify the location of the file in the
                                <samp class="ph codeph">SDC_JAVA_OPTS</samp> environment variable on the <span class="ph">Data Collector</span> machine. </dd>

                    
                </dl>
</div>

            <div class="note warning"><span class="warningtitle">Warning:</span> If metadata publishing is enabled and Apache Atlas cannot access
                the  <samp class="ph codeph">atlas-application.properties</samp> file at <span class="ph">Data Collector</span>
                start up, then <span class="ph">Data Collector</span>
                fails to start. </div>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">To enable metadata publishing, add the following lines to the <span class="ph">Data Collector</span> configuration file, <samp class="ph codeph">$SDC_CONF/sdc.properties</samp>:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock"># Lineage Publisher
#
lineage.publishers=atlas
lineage.publisher.atlas.def=streamsets-datacollector-apache-atlas_0_8_1-lib::com_streamsets_pipeline_stage_plugin_atlas_AtlasLineagePublisher</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">If <span class="ph">Data Collector</span> is installed on a separate machine from the Apache Atlas server, copy the
                        <samp class="ph codeph">atlas-application.properties</samp> file to the <span class="ph">Data Collector</span> machine. </span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Verify that the <samp class="ph codeph">atlas-application.properties</samp> file is correctly
                    configured. </span>
                <div class="itemgroup info">For example, if you copied the <samp class="ph codeph">atlas-application.properties</samp>
                    file to the <span class="ph">Data Collector</span> machine, you might need to modify the following properties which specify the
                    Kafka installation on the Apache Atlas
                        server:<pre class="pre codeblock">atlas.kafka.zookeeper.connect=localhost:9026
atlas.kafka.bootstrap.servers=localhost:9027</pre>
<p class="p">For
                        more information on the properties in this file, see the <a class="xref" href="http://atlas.apache.org/Configuration.html" target="_blank">Apache Atlas documentation</a>.</p>
</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="ph">Data Collector</span> machine, define the <samp class="ph codeph">-Datlas.conf</samp> system property in the
                        <samp class="ph codeph">SDC_JAVA_OPTS</samp> environment variable.</span>
                <div class="itemgroup info">
                    <p class="p">The <samp class="ph codeph">-Datlas.conf</samp> system property defines the location of the
                        local <samp class="ph codeph">atlas-application.properties</samp> file. </p>

                    <p class="p"><a class="xref" href="DCEnvironmentConfig.html#concept_zhl_rb3_qcb">Modify environment variables</a> using the method required by your installation
                  type.</p>

                    <p class="p">For example, define the Atlas system property as follows:</p>

                    <pre class="pre codeblock">export SDC_JAVA_OPTS="-Datlas.conf=&lt;path to Atlas file&gt; -Xmx1024m  -Xms1024m -server ${SDC_JAVA_OPTS}"</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Restart <span class="ph">Data Collector</span> for the changed properties to take effect.</span>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested2" id="task_kqb_dpt_pcb">
    <h3 class="title topictitle3">Step 3. Deploy the StreamSets Data Model to Apache Atlas</h3>

    
    <div class="body taskbody"><p class="shortdesc">Download the <span class="ph">StreamSets</span>
        data model and deploy the data model to the Apache Atlas server.</p>

        <div class="section context"></div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Using the link provided in the email that you received from <span class="ph">StreamSets</span>, download the <span class="ph">StreamSets</span> data model for Apache Atlas:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">0090-streamsets_model.json</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Deploy the data model to the machine where the Apache Atlas server is
                    installed.</span>
                <div class="itemgroup info">On the Apache Atlas server, copy the <span class="ph">StreamSets</span> data model to the same directory that contains the Sqoop data model. </div>
                <div class="itemgroup info">For example, if using Hortonworks for testing, copy the <span class="ph">StreamSets</span> data model to the following
                    directory:<pre class="pre codeblock">/usr/hdp/2.6.1.0-129/atlas/models/0090-streamsets_model.json</pre>
</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Restart the Apache Atlas server so that the server can recognize the newly
                    deployed data model.</span>
            </li>
</ol>

    </div>

</div>
<div class="topic concept nested2" id="concept_vvt_vpt_pcb">
    <h3 class="title topictitle3">Viewing Published Metadata</h3>

    
    <div class="body conbody"><p class="shortdesc">You can view published pipeline metadata in near real time in Apache Atlas. Apache
        Atlas lists each pipeline by pipeline title and displays supported origins as inputs and
        supported destinations as outputs.</p>

        <p class="p">For
            example, let's assume that you run a pipeline that includes a JDBC Query Consumer origin
            and a Local FS destination. Apache Atlas displays a single input representing the JDBC
            Query Consumer origin. As the pipeline runs, the Local FS destination creates multiple
            output files. Apache Atlas displays multiple outputs, each output representing one of
            the generated output files. </p>

        <p class="p">Apache Atlas displays the details of the published pipeline metadata as follows. Note how
            our example pipeline is listed with 1 input and 3 outputs - one output for each
            generated output file:</p>

        <p class="p"><img class="image" id="concept_vvt_vpt_pcb__image_sky_xtv_zcb" src="../Graphics/Atlas_Details.png" height="413" width="561" /></p>

        <p class="p">Apache Atlas displays the pipeline lineage diagram as follows:</p>

        <p class="p"><img class="image" id="concept_vvt_vpt_pcb__image_rsp_g5v_zcb" src="../Graphics/Atlas_Lineage.png" height="268" width="555" /></p>

    </div>

</div>
</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../../../datacollector/UserGuide/Configuration/Config_title.html" title="Configuration"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Configuration</span></a></span>  </div><div class="footer" id="webhelp_copyright_information"><!-- Copyright 2018 StreamSets Inc. --><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script></div>
</body>
</html>